# ğŸ”§ JMS Protocol Handler è„šæœ¬

æœ¬ç›®å½•åŒ…å« JMS Protocol Handler é¡¹ç›®çš„æ‰€æœ‰è„šæœ¬æ–‡ä»¶ã€‚

## ğŸ“ ç›®å½•ç»“æ„

### ğŸ—ï¸ build/ - æ„å»ºè„šæœ¬
ç”¨äºæ„å»ºå’Œæ‰“åŒ…åº”ç”¨ç¨‹åºçš„è„šæœ¬ã€‚

**æ–‡ä»¶åˆ—è¡¨**:
- `create_dmg.sh` - åˆ›å»º DMG å®‰è£…åŒ…
- `create_pkg.sh` - åˆ›å»º PKG å®‰è£…åŒ…
- `clean.sh` - æ¸…ç†æ„å»ºæ–‡ä»¶å’Œç¼“å­˜

### ğŸš€ deployment/ - éƒ¨ç½²è„šæœ¬
ç”¨äºéƒ¨ç½²ã€å®‰è£…å’Œé…ç½®åº”ç”¨ç¨‹åºçš„è„šæœ¬ã€‚

**æ–‡ä»¶åˆ—è¡¨**:
- `register_jms_protocol.sh` - æ³¨å†Œ jms:// åè®®å¤„ç†ç¨‹åº
- `deploy_package.swift` - åº”ç”¨ç¨‹åºæ‰“åŒ…å’Œéƒ¨ç½²å‡†å¤‡
- `å¸è½½è„šæœ¬.sh` - å¸è½½åº”ç”¨ç¨‹åºå’Œæ¸…ç†ç³»ç»Ÿ

### ğŸ§ª test/ - æµ‹è¯•è„šæœ¬
ç”¨äºæµ‹è¯•å’ŒéªŒè¯åº”ç”¨ç¨‹åºåŠŸèƒ½çš„è„šæœ¬ã€‚

**æ–‡ä»¶åˆ—è¡¨**:
- `test_jms_protocol.sh` - æµ‹è¯• jms:// åè®®æ³¨å†Œå’ŒåŠŸèƒ½

## ğŸ”§ è„šæœ¬ä½¿ç”¨æŒ‡å—

### æ„å»ºåº”ç”¨ç¨‹åº
```bash
# åˆ›å»º DMG å®‰è£…åŒ…
./scripts/build/create_dmg.sh

# åˆ›å»º PKG å®‰è£…åŒ…
./scripts/build/create_pkg.sh

# æ¸…ç†æ„å»ºæ–‡ä»¶
./scripts/build/clean.sh
```

### éƒ¨ç½²åº”ç”¨ç¨‹åº
```bash
# æ³¨å†Œ jms:// åè®®
./scripts/deployment/register_jms_protocol.sh

# å‡†å¤‡éƒ¨ç½²åŒ…
swift scripts/deployment/deploy_package.swift
```

### æµ‹è¯•åŠŸèƒ½
```bash
# æµ‹è¯•åè®®æ³¨å†Œ
./scripts/test/test_jms_protocol.sh
```

### å¸è½½åº”ç”¨ç¨‹åº
```bash
# å¸è½½åº”ç”¨ç¨‹åº
./scripts/deployment/å¸è½½è„šæœ¬.sh
```

## ğŸ“‹ è„šæœ¬è¯¦ç»†è¯´æ˜

### register_jms_protocol.sh
**åŠŸèƒ½**: åœ¨ macOS ç³»ç»Ÿä¸Šæ³¨å†Œ jms:// åè®®å¤„ç†ç¨‹åº
**ç”¨æ³•**: `./register_jms_protocol.sh`
**è¦æ±‚**: åº”ç”¨ç¨‹åºå·²å®‰è£…åˆ° /Applications/ ç›®å½•

**ä¸»è¦åŠŸèƒ½**:
- æ£€æŸ¥åº”ç”¨ç¨‹åºå®‰è£…çŠ¶æ€
- ä½¿ç”¨ lsregister æ³¨å†Œåè®®
- éªŒè¯æ³¨å†Œç»“æœ
- æä¾›æ•…éšœæ’é™¤å»ºè®®

### test_jms_protocol.sh
**åŠŸèƒ½**: æµ‹è¯• jms:// åè®®æ˜¯å¦æ­£ç¡®æ³¨å†Œå’Œå·¥ä½œ
**ç”¨æ³•**: `./test_jms_protocol.sh`

**æµ‹è¯•å†…å®¹**:
- ç”Ÿæˆæµ‹è¯• URL
- æ£€æŸ¥åè®®å¤„ç†ç¨‹åº
- è‡ªåŠ¨æµ‹è¯•åè®®åŠŸèƒ½
- éªŒè¯åº”ç”¨ç¨‹åºå¯åŠ¨

### deploy_package.swift
**åŠŸèƒ½**: å‡†å¤‡åº”ç”¨ç¨‹åºéƒ¨ç½²åŒ…
**ç”¨æ³•**: `swift deploy_package.swift`

**ä¸»è¦åŠŸèƒ½**:
- æ£€æŸ¥å¼€å‘ç¯å¢ƒ
- é…ç½®åº”ç”¨ç¨‹åºç­¾å
- åˆ›å»ºå®‰è£…åŒ…è„šæœ¬
- ç”Ÿæˆç”¨æˆ·æ–‡æ¡£

### å¸è½½è„šæœ¬.sh
**åŠŸèƒ½**: å®Œå…¨å¸è½½åº”ç”¨ç¨‹åºå’Œæ¸…ç†ç³»ç»Ÿ
**ç”¨æ³•**: `./å¸è½½è„šæœ¬.sh`

**æ¸…ç†å†…å®¹**:
- åˆ é™¤åº”ç”¨ç¨‹åºæ–‡ä»¶
- æ¸…ç†ç”¨æˆ·æ•°æ®
- æ¸…ç†ä¸´æ—¶æ–‡ä»¶
- é‡ç½®åè®®å¤„ç†ç¨‹åº

## âš ï¸ ä½¿ç”¨æ³¨æ„äº‹é¡¹

### æƒé™è¦æ±‚
- æŸäº›è„šæœ¬å¯èƒ½éœ€è¦ç®¡ç†å‘˜æƒé™
- åè®®æ³¨å†Œéœ€è¦ç³»ç»Ÿçº§æƒé™
- å»ºè®®åœ¨æ‰§è¡Œå‰æ£€æŸ¥è„šæœ¬å†…å®¹

### ç³»ç»Ÿå…¼å®¹æ€§
- æ‰€æœ‰è„šæœ¬é’ˆå¯¹ macOS 10.15+ è®¾è®¡
- åœ¨ä¸åŒç³»ç»Ÿç‰ˆæœ¬ä¸Šå¯èƒ½éœ€è¦è°ƒæ•´
- Apple Silicon å’Œ Intel æ¶æ„éƒ½æ”¯æŒ

### å®‰å…¨è€ƒè™‘
- è„šæœ¬ä¼šä¿®æ”¹ç³»ç»Ÿè®¾ç½®
- å»ºè®®åœ¨æµ‹è¯•ç¯å¢ƒä¸­å…ˆéªŒè¯
- ä¿ç•™ç³»ç»Ÿå¤‡ä»½ä»¥é˜²æ„å¤–

## ğŸ” æ•…éšœæ’é™¤

### è„šæœ¬æ‰§è¡Œå¤±è´¥
```bash
# æ£€æŸ¥è„šæœ¬æƒé™
ls -la scripts/

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x scripts/**/*.sh

# æ£€æŸ¥ç³»ç»Ÿå…¼å®¹æ€§
sw_vers
```

### åè®®æ³¨å†Œå¤±è´¥
```bash
# æ‰‹åŠ¨é‡æ–°æ³¨å†Œ
sudo ./scripts/deployment/register_jms_protocol.sh

# é‡å»º Launch Services æ•°æ®åº“
sudo /System/Library/Frameworks/CoreServices.framework/Versions/Current/Frameworks/LaunchServices.framework/Versions/Current/Support/lsregister -kill -r -domain local -domain system -domain user
```

### æµ‹è¯•å¤±è´¥
```bash
# æ£€æŸ¥åº”ç”¨ç¨‹åºçŠ¶æ€
ps aux | grep JMSProtocolHandler

# æ£€æŸ¥åè®®æ³¨å†Œ
defaults read com.apple.LaunchServices/com.apple.launchservices.secure LSHandlers | grep jms
```

## ğŸ“ è„šæœ¬ç»´æŠ¤

### æ·»åŠ æ–°è„šæœ¬
1. é€‰æ‹©åˆé€‚çš„å­ç›®å½• (build/deployment/test)
2. æ·»åŠ é€‚å½“çš„æ–‡æ¡£æ³¨é‡Š
3. è®¾ç½®æ­£ç¡®çš„æ‰§è¡Œæƒé™
4. æ›´æ–°æ­¤ README æ–‡ä»¶

### ä¿®æ”¹ç°æœ‰è„šæœ¬
1. ä¿æŒå‘åå…¼å®¹æ€§
2. æ›´æ–°ç›¸å…³æ–‡æ¡£
3. è¿›è¡Œå……åˆ†æµ‹è¯•
4. æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯

---
**è„šæœ¬ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2025-07-25  
**å…¼å®¹æ€§**: macOS 10.15+
