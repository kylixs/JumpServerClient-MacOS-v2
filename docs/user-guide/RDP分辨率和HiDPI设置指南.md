# RDP分辨率和HiDPI设置指南

## 概述

JMS Protocol Handler v1.2.0 新增了强大的分辨率和HiDPI设置功能，让您能够精确控制远程桌面的显示效果，获得最佳的视觉体验。

## 🖥️ 分辨率设置

### 预设分辨率选项

系统提供以下预设分辨率选择：

| 分辨率 | 名称 | 适用场景 | 预计带宽 |
|--------|------|----------|----------|
| 1920×1080 | Full HD | 标准办公、一般使用 | 5-10 Mbps |
| 2560×1440 | 2K | 高清办公、设计工作 | 5-10 Mbps |
| 3840×2160 | 4K | 专业设计、高清需求 | 10-25 Mbps |
| 自定义 | 用户定义 | 特殊需求 | 根据分辨率计算 |

### 自定义分辨率

当选择"自定义分辨率"时：

1. **输入范围**：宽度和高度支持 800×600 到 7680×4320
2. **实时验证**：系统会自动验证输入的分辨率是否有效
3. **带宽预估**：实时显示预计的网络带宽需求

#### 自定义分辨率示例

```
常用自定义分辨率：
• 1366×768  - 老式笔记本
• 1680×1050 - 16:10 显示器
• 2880×1800 - MacBook Pro 15"
• 3440×1440 - 超宽屏显示器
• 5120×2880 - 5K 显示器
```

### 自动检测功能

点击"自动检测"按钮，系统将：

1. 检测当前主显示器的原生分辨率
2. 识别显示器的DPI和缩放设置
3. 自动填入最适合的分辨率配置
4. 更新HiDPI设置以匹配显示器特性

## 🔍 HiDPI/缩放设置

### HiDPI优化

**启用条件**：
- Retina显示器（MacBook Pro/Air）
- 高DPI外接显示器（> 150 DPI）
- 4K/5K显示器

**优化效果**：
- 文字更清晰锐利
- 图标和界面元素更精细
- 减少模糊和锯齿现象

### 缩放因子选项

| 缩放因子 | 显示效果 | 适用显示器 |
|----------|----------|------------|
| 100% (1.0x) | 标准大小 | 标准DPI显示器 |
| 125% (1.25x) | 稍大 | 高分辨率显示器 |
| 150% (1.5x) | 中等放大 | 2K显示器 |
| 200% (2.0x) | 大幅放大 | Retina显示器 |
| 250% (2.5x) | 更大 | 4K显示器 |
| 300% (3.0x) | 最大 | 5K/6K显示器 |

### 自动检测显示器配置

启用"自动检测显示器配置"后：

1. **启动时检测**：应用启动时自动检测显示器
2. **动态调整**：显示器配置变化时自动更新设置
3. **智能推荐**：根据显示器特性推荐最佳配置

## 📊 配置预览

### 实时预览功能

右侧预览区域实时显示：

```
# RDP配置预览

配置文件: 平衡模式

显示设置:
分辨率: 2560×1440 (2K)
HiDPI: 启用 (200% (大))
自动检测: 启用

质量设置:
压缩级别: 中等
颜色深度: 24位
音频质量: 中等

特效设置:
✓ 字体平滑
✓ 桌面壁纸
✗ 菜单动画
✓ 视觉主题

性能预估:
预计带宽: 5-10 Mbps
清晰度评级: 优秀 ⭐⭐⭐

适用场景:
• 一般办公环境
• 宽带网络连接
• 平衡性能和质量

最后更新: 2025-08-13 21:34:35
```

### 清晰度评级系统

系统根据以下因素计算清晰度评级：

- **分辨率**：像素数量越高，评分越高
- **HiDPI**：启用HiDPI获得额外加分
- **颜色深度**：24位以上获得加分
- **压缩级别**：压缩越高，评分越低

评级范围：⭐ (基础) 到 ⭐⭐⭐⭐⭐ (完美)

## 🚀 使用场景和推荐配置

### 场景1：办公应用

**推荐配置**：
- 分辨率：1920×1080 (Full HD)
- HiDPI：根据显示器自动检测
- 缩放因子：100%-150%
- 预计带宽：< 5 Mbps

**适用于**：文档编辑、邮件、网页浏览

### 场景2：设计工作

**推荐配置**：
- 分辨率：2560×1440 (2K) 或更高
- HiDPI：启用
- 缩放因子：150%-200%
- 预计带宽：10-15 Mbps

**适用于**：图形设计、视频编辑、CAD

### 场景3：移动网络

**推荐配置**：
- 分辨率：1366×768 或 1920×1080
- HiDPI：禁用
- 缩放因子：100%
- 预计带宽：< 3 Mbps

**适用于**：移动办公、低带宽环境

### 场景4：高质量演示

**推荐配置**：
- 分辨率：3840×2160 (4K)
- HiDPI：启用
- 缩放因子：200%-250%
- 预计带宽：> 20 Mbps

**适用于**：演示、培训、高质量显示需求

## 🔧 高级设置技巧

### 1. 多显示器环境

在多显示器环境中：
- 系统自动检测主显示器配置
- 可手动选择目标显示器的分辨率
- 建议使用主显示器的原生分辨率

### 2. 网络优化

根据网络条件调整：

**高速网络 (> 50 Mbps)**：
- 使用最高分辨率
- 启用所有视觉效果
- 设置压缩级别为0（无压缩）

**中速网络 (10-50 Mbps)**：
- 使用2K分辨率
- 启用HiDPI但禁用部分特效
- 设置压缩级别为1（中等）

**低速网络 (< 10 Mbps)**：
- 使用Full HD或更低分辨率
- 禁用HiDPI和特效
- 设置压缩级别为2（高压缩）

### 3. 性能调优

**CPU性能优先**：
- 降低分辨率
- 禁用HiDPI
- 启用高压缩

**显示质量优先**：
- 使用最高分辨率
- 启用HiDPI
- 禁用压缩

## 📱 操作步骤

### 基本设置流程

1. **打开RDP设置界面**
   - 通过菜单栏或快捷键 Cmd+, 打开设置

2. **配置分辨率**
   - 选择预设分辨率或自定义
   - 点击"自动检测"获取推荐设置

3. **设置HiDPI**
   - 根据显示器类型启用/禁用HiDPI
   - 调整缩放因子以获得最佳显示效果

4. **预览配置**
   - 查看右侧预览区域的配置信息
   - 确认清晰度评级和带宽需求

5. **保存设置**
   - 点击"保存设置"按钮
   - 或使用"应用推荐设置"快速配置

### 快捷操作

- **Cmd+1/2/3**：快速切换预设配置
- **Cmd+D**：自动检测显示器配置
- **Cmd+R**：重置为默认设置
- **Cmd+S**：保存当前设置

## ❓ 常见问题

### Q1: 为什么自动检测失败？

**可能原因**：
- 显示器驱动问题
- 系统权限限制
- 外接显示器连接问题

**解决方案**：
- 重新连接显示器
- 重启应用程序
- 手动设置分辨率

### Q2: HiDPI设置后文字模糊？

**可能原因**：
- 缩放因子设置不当
- 远程系统不支持HiDPI
- 网络带宽不足

**解决方案**：
- 调整缩放因子到合适值
- 检查远程系统DPI设置
- 降低分辨率或启用压缩

### Q3: 分辨率设置不生效？

**可能原因**：
- 远程系统分辨率限制
- RDP客户端版本问题
- 网络连接不稳定

**解决方案**：
- 检查远程系统支持的分辨率
- 更新Microsoft Remote Desktop
- 使用较低的分辨率设置

### Q4: 带宽需求过高？

**解决方案**：
- 降低分辨率设置
- 启用压缩
- 禁用不必要的视觉效果
- 使用性能优先预设

## 🔗 相关链接

- [显示优化使用指南](显示优化使用指南.md)
- [显示配置故障排除指南](显示配置故障排除指南.md)
- [RDP质量配置界面使用指南](RDP质量配置界面使用指南.md)
- [故障排除指南](故障排除指南.txt)

---

**提示**：建议在首次使用时点击"自动检测"按钮，让系统为您的显示器配置最佳设置。如有问题，可随时使用"重置默认"恢复到安全的配置。
